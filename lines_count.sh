#!/bin/bash

# Название: py_lines_counter.sh
# Описание: Находит все .py файлы в текущей директории и поддиректориях
#            и считает суммарное количество строчек кода в них.

echo "Поиск .py файлов и подсчет строчек кода..."

# Используем find для поиска всех .py файлов, затем передаем их wc -l.
# wc -l для нескольких файлов выводит количество строк для каждого файла
# и одну итоговую строку с "total".
# Мы ищем эту "total" строку и выводим только число перед ней.

total_lines=$(find . -name "*.py" -exec wc -l {} + 2>/dev/null | grep " total$" | awk '{print $1}')

# Проверяем, если total_lines пуст (т.е. .py файлов не найдено)
if [ -z "$total_lines" ]; then
    total_lines=0
fi

echo "================================================="
echo "Суммарное количество строчек кода в .py файлах: $total_lines"
echo "================================================="

exit 0